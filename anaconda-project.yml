name: nbestimate
description: Estimate of public ipynb files on GitHub
env_specs:
  default:
    packages:
      - python
      - anaconda-project
      - jupyter
      - matplotlib
      - nbconvert
      - nomkl
      - pandas
      - requests
      - statsmodels
    channels:
      - conda-forge
      - defaults
commands:
  update:
    unix: open "https://github.com/search?q=extension%3Aipynb+nbformat_minor&ref=searchresu" && python update.py
  render:
    unix: jupyter-nbconvert --execute --to notebook --output estimate.ipynb estimate.src.ipynb
  push:
    unix: git commit -a -m "Update for $(date '+%Y-%m-%d')" && git push
  show:
    unix: open "http://nbviewer.jupyter.org/github/parente/nbestimate/blob/master/estimate.ipynb"
  all:
    unix: |
      anaconda-project run update &&
      anaconda-project run render &&
      anaconda-project run push &&
      anaconda-project run show